# 축구왕

   ![Copy of Copy of fms 유저 테스트](https://github.com/fms-chukguwang/.github/assets/39757235/e557b6d7-684e-401f-ae83-93beede4b0ff)

### **프로젝트 소개**

축구를 사랑하는 모든 사람들을 위한, 축구팀 종합 관리 플랫폼, **축구왕** 

지역 기반 축구 커뮤니티 및 팀 관리 플랫폼. 지역 팀 모집, 경기 일정 및 결과 기록, 선수 통계, 소셜 기능, 실시간 업데이트로 축구팀을 효울적으로 관리 하세요! 

**축구왕 사이트** : https://www.fms-chukguwang.site/

**프론트** : https://github.com/fms-chukguwang/fms_react

**백엔드** : https://github.com/fms-chukguwang/football_management_system


### 서비스 아키텍처
![Untitled](https://github.com/fms-chukguwang/.github/assets/39757235/0c2d14f2-ece3-46f7-a806-c047fcbe55f2)


### 프로젝트 주요 기능

1. **팀 관리: 구단주가 손쉽게 팀 통계 작성 및 멤버 조회/초대 가능. 선수는 멤버 통계/멤버 조회 가능**
![2](https://github.com/fms-chukguwang/.github/assets/39757235/d55ebd53-ea01-42df-a7d7-d487c83f7c86)

2. **선수 및 통계 관리 : 구단주는 선수 기록과 통계를 입력/수정 가능, 선수는 통계 및 개인 기록 확인 가능**
![3](https://github.com/fms-chukguwang/.github/assets/39757235/7c588357-66c4-498e-a554-e6514e6686fd)

3. **일정 및 전술 관리 : 팀 경기 일정 조회 및 상대팀에게 게임 신청 가능. 전술 관리는  포메이션 설정 가능 및 추천/인기 포메이션, 또한 최다 누적 경고자를 보여줌으로써 구단주가 포메이션 선택할때 도움줌**
![4](https://github.com/fms-chukguwang/.github/assets/39757235/e69d85eb-4bfd-400c-9acc-f2c13d35cc8a)

4. **경기 결과 관리 : 경기가 끝난후 구단주들은 결과와 선수 개인 기록 등록 가능. 선수와 구단주 모두 경기 결과/개인 기록 확인 가능**
![5](https://github.com/fms-chukguwang/.github/assets/39757235/baeaf529-524b-4406-b389-d2577ef17cc2)

5. **채팅 및 실시간 알림: 같은팀 멤버들끼리 채팅 가능. 새로운 멤버가 팀에 들어올때마다 홈페이지에서 알람 메세지가 뜸**
![6](https://github.com/fms-chukguwang/.github/assets/39757235/40eaf581-9cdb-4004-b5b5-786b4220fbea)

6. **어드민 페이지 : 어드민(개발자)는 회원과 팀 삭제 가능**
![7](https://github.com/fms-chukguwang/.github/assets/39757235/4123b4bf-82c2-42a4-bcb0-334b30189cce)

### 트러블 슈팅
<details>
<summary>통계 데이터 부하</summary>
   - 문제점 : 대용량 트래픽 대응을 위해 스트레스 테스트 진행도중, 가장 트래픽 증가가 우려되고 데이터 연산이 많은 팀 상세조회 화면을 조회할때 서버 수용량 문제와 속도 저하 문제가 발생
   - 해결방안 :

<details>
<summary>대응 방안 종류</summary>

1. **스케일업 (Scale-up)**:
    - 단일 서버의 성능을 향상시키는 방법으로, 더 강력한 하드웨어로 업그레이드하거나 CPU, RAM 등의 리소스를 추가하는 것입니다. 이 방법은 비교적 간단하지만, 한계에 도달하면 확장성이 부족할 수 있음.
2. **캐싱 (Caching)**:
    - 자주 요청되는 데이터나 쿼리 결과를 메모리나 디스크에 저장하여 반복적인 요청에 대한 응답 시간을 줄입니다. 캐싱은 서버 부하를 줄이고 응답 시간을 개선하는 데 도움이 됨.
3. **CDN (Content Delivery Network)**:
    - CDN은 전 세계에 분산된 서버 네트워크를 사용하여 정적 콘텐츠를 제공하는 방법. 이를 통해 웹 애플리케이션의 응답 시간을 단축하고 대역폭을 줄일 수 있음.
4. **비동기 처리 (Asynchronous Processing)**:
    - 일부 작업을 비동기적으로 처리하여 사용자에게 즉각적인 응답을 제공하고, 뒤늦게 결과를 처리하는 방법. 이를 통해 웹 서버가 트래픽 폭증에도 유연하게 대응할 수 있음.
5. **스케일아웃 (Scale-out)**:
    - 서버 인스턴스의 수를 증가시키는 방법으로, 여러 서버를 추가하여 트래픽을 분산함. 이 방법은 클라우드 서비스를 활용하여 쉽게 구현할 수 있으며, 오토스케일링과 함께 사용될 수 있음.

<details>
<summary>스케일아웃, 오토스케일링을 고른 이유</summary>

스케일아웃은 서버 인스턴스의 수를 증가시켜 트래픽을 분산하는 방법이며, 이는 클라우드 서비스를 통해 자동으로 처리될 수 있음.

오토스케일링은 특정 지표나 정책에 따라 서버 인스턴스의 수를 자동으로 늘리거나 줄이는 것을 의미함. 예를 들어, 서버의 CPU 사용률이 일정 수준을 넘어서면 새로운 서버 인스턴스를 자동으로 추가하거나, 트래픽이 감소하면 불필요한 서버 인스턴스를 자동으로 제거할 수 있음.

따라서 오토스케일링은 트래픽 변동에 신속하게 대응하고, 서버 인스턴스의 수를 유동적으로 관리하여 확장성과 가용성을 향상시킬 수 있는 수평 스케일아웃의 한 형태로 볼 수 있음.

1. **트래픽 변동성 관리**: 우리 서비스는 트래픽이 시간에 따라 변동성이 큼. 예를 들어, 특정 이벤트(토너먼트 신청이 한 특정 시간에 열림)이나 프로모션 기간에는 트래픽이 급증할 수 있음. 오토스케일링을 통해 트래픽의 증가에 자동으로 대응하여 사용자에게 지속적인 서비스를 제공할 수 있음.
2. **비용 효율성**: 수동으로 서버 용량을 조절하거나 고정된 용량을 유지하는 것은 비용이 높을 수 있음. 오토스케일링을 사용하면 트래픽에 따라 필요한 만큼의 서버 인스턴스를 동적으로 관리함으로써 비용을 절감할 수 있음.
3. **가용성 향상**: 오토스케일링을 통해 서버 인스턴스의 수를 자동으로 조절함으로써 서비스의 가용성을 향상시킬 수 있음. 트래픽 증가나 하드웨어 장애로 인해 발생할 수 있는 서비스 중단을 최소화할 수 있음.
4. **운영 간소화**: 오토스케일링을 설정하면 서버 용량을 자동으로 관리하기 때문에 운영 및 관리 작업이 간소화됨. 이는 운영 팀의 업무 부담을 줄이고 시간을 절약할 수 있음.
5. **유연성과 확장성**: 오토스케일링을 통해 서버 인스턴스의 수를 동적으로 조절함으로써 시스템의 유연성과 확장성을 확보할 수 있음. 트래픽이 증가하거나 감소할 때 시스템을 쉽게 조정할 수 있음.

이러한 이유로 오토스케일링은 우리 서비스를 효율적으로 운영하고, 사용자에게 높은 가용성과 성능을 제공하는 데 필수적인 도구로 선택됨.
결과: 서버 증설로 인하여 서버 수용량이 5배정도 상승함 60초동안 1500명의 가상 사용자들은 100% 성공하였고 1800명이 이용해도 90% 성공률을 기록
- 결과: 서버 증설로 인하여 서버 수용량이 5배정도 상승함 60초동안 1500명의 가상 사용자들은 100% 성공하였고 1800명이 이용해도 90% 성공률을 기록
![스크린샷 2024-02-19 오전 11 11 45](https://github.com/fms-chukguwang/.github/assets/39757235/1085edd5-009f-46ce-b0ad-458cb0292240)

</details>
</details>
</details>

<details>
<summary>데이터베이스 성능 최적화 (인덱싱)</summary>
   - 문제점 : 멤버 검색 할때 속도가 느림
   - 해결방안 : 인덱스를 써서 속도를 빠르게함
</details>

<details>
<summary> MongoDB를 이용한 로그 관리 </summary>
- 문제점: 로그를 파일로 저장해서 관리의 어려움. 로그 파일을 사용하는 의미x
 - 해결방안: 로그를 Mongo db에 저장하도록 변경
</details>

